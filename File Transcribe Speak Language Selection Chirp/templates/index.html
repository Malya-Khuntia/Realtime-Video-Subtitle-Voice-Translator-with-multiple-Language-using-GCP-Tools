<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Video Dubbing Studio</title>
    <!-- Bootstrap and Font Awesome for icons -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <!-- Full-screen ATTRACTIVE loading overlay, hidden by default -->
    <div id="loadingOverlay">
        <div class="loader-content">
            <!-- Animated Soundwave Icon -->
            <svg class="sound-wave" version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
                <path d="M22,42 C22,42 22,58 22,58"/>
                <path d="M34,26 C34,26 34,74 34,74"/>
                <path d="M46,10 C46,10 46,90 46,90"/>
                <path d="M58,25 C58,25 58,75 58,75"/>
                <path d="M70,42 C70,42 70,58 70,58"/>
            </svg>
            <h4>Processing Your Masterpiece...</h4>
        </div>
    </div>

    <nav class="navbar navbar-dark">
        <span class="navbar-brand mb-0 h1">
            <i class="fas fa-film"></i>
            AI Video Dubbing Studio
        </span>
    </nav>

    <div class="main-content">
        <!-- Main Configuration Card -->
        <div class="dubbing-card mb-4">
            <h2 class="card-title"><i class="fas fa-cog"></i> Create Your Dub</h2>
            
            <form id="uploadForm">
                <div class="config-row">
                    <!-- Item 1: Select Video -->
                    <div class="config-item">
                        <label for="videoFile">Select Video File</label>
                        <div class="custom-file">
                            <input type="file" class="custom-file-input" id="videoFile" name="videoFile" accept="video/*" required>
                            <label class="custom-file-label" for="videoFile">Choose file...</label>
                        </div>
                    </div>
                    <!-- Item 2: Original Language -->
                    <div class="config-item">
                        <label for="fromLang">Original Language</label>
                        <select id="fromLang" name="fromLang" class="form-control">
                            <option value="en-US" selected>English (US)</option>
                            <option value="hi-IN">Hindi (India)</option>
                            <option value="es-ES">Spanish (Spain)</option>
                            <option value="fr-FR">French (France)</option>
                            <option value="de-DE">German (Germany)</option>
                            <option value="ja-JP">Japanese (Japan)</option>
                            <option value="ru-RU">Russian (Russia)</option>
                            <option value="it-IT">Italian (Italy)</option>
                            <option value="ko-KR">Korean (South Korea)</option>
                            <option value="pt-BR">Portuguese (Brazil)</option>
                            <option value="en-AU">English (Australia)</option>
                            <option value="en-GB">English (United Kingdom)</option>
                            <option value="en-IN">English (India)</option>
                            <option value="es-US">Spanish (United States)</option>
                            <option value="fr-CA">French (Canada)</option>
                            <option value="id-ID">Indonesian (Indonesia)</option>
                            <option value="nl-NL">Dutch (Netherlands)</option>
                            <option value="pl-PL">Polish (Poland)</option>
                            <option value="th-TH">Thai (Thailand)</option>
                            <option value="tr-TR">Turkish (Turkey)</option>
                            <option value="vi-VN">Vietnamese (Vietnam)</option>
                            <option value="cmn-CN">Mandarin Chinese (China)</option>
                            <option value="bn-IN">Bengali (India)</option>
                            <option value="gu-IN">Gujarati (India)</option>
                            <option value="kn-IN">Kannada (India)</option>
                            <option value="ml-IN">Malayalam (India)</option>
                            <option value="mr-IN">Marathi (India)</option>
                            <option value="ta-IN">Tamil (India)</option>
                            <option value="te-IN">Telugu (India)</option>
                        </select>
                    </div>
                    <!-- Item 3: Target Language -->
                    <div class="config-item">
                        <label for="toLang">Target Language</label>
                        <select id="toLang" name="toLang" class="form-control">
                            <option value="hi-IN" selected>Hindi (India)</option>
                            <option value="en-US">English (US)</option>
                            <option value="es-ES">Spanish (Spain)</option>
                            <option value="fr-FR">French (France)</option>
                            <option value="de-DE">German (Germany)</option>
                            <option value="ja-JP">Japanese (Japan)</option>
                            <option value="ru-RU">Russian (Russia)</option>
                            <option value="it-IT">Italian (Italy)</option>
                            <option value="ko-KR">Korean (South Korea)</option>
                            <option value="pt-BR">Portuguese (Brazil)</option>
                            <option value="en-AU">English (Australia)</option>
                            <option value="en-GB">English (United Kingdom)</option>
                            <option value="en-IN">English (India)</option>
                            <option value="es-US">Spanish (United States)</option>
                            <option value="fr-CA">French (Canada)</option>
                            <option value="id-ID">Indonesian (Indonesia)</option>
                            <option value="nl-NL">Dutch (Netherlands)</option>
                            <option value="pl-PL">Polish (Poland)</option>
                            <option value="th-TH">Thai (Thailand)</option>
                            <option value="tr-TR">Turkish (Turkey)</option>
                            <option value="vi-VN">Vietnamese (Vietnam)</option>
                            <option value="cmn-CN">Mandarin Chinese (China)</option>
                            <option value="bn-IN">Bengali (India)</option>
                            <option value="gu-IN">Gujarati (India)</option>
                            <option value="kn-IN">Kannada (India)</option>
                            <option value="ml-IN">Malayalam (India)</option>
                            <option value="mr-IN">Marathi (India)</option>
                            <option value="ta-IN">Tamil (India)</option>
                            <option value="te-IN">Telugu (India)</option>
                        </select>
                    </div>
                    <!-- Item 4: AI Voice -->
                    <div class="config-item">
                        <label for="voiceSelect">AI Voice</label>
                        <select id="voiceSelect" name="voiceSelect" class="form-control">
                            <option value="Default" selected>Default</option>
                            <option value="Aoede (F)">Aoede (F, en-US)</option>
                            <option value="Puck (M)">Puck (M, en-US)</option>
                            <option value="Kore (F)">Kore (F, en-US)</option>
                            <option value="Charon (M)">Charon (M, en-GB)</option>
                            <option value="Leda (F)">Leda (F, en-GB)</option>
                            <option value="Fenrir (M)">Fenrir (M, de-DE)</option>
                            <option value="Orus (M)">Orus (M, hi-IN)</option>
                            <option value="Zephyr (F)">Zephyr (F, hi-IN)</option>
                            <option value="French Leda (F)">French Leda (F, fr-FR)</option>
                            <option value="Spanish Male">Spanish Male (es-ES)</option>
                            <option value="Japanese Female">Japanese Female (ja-JP)</option>
                        </select>
                    </div>
                     <!-- Item 5: Process Button -->
                    <div class="config-item">
                        <button type="submit" class="btn btn-process w-100" id="processButton">
                            <i class="fas fa-cogs"></i>Â  Generate Dub
                        </button>
                    </div>
                </div>
            </form>
        </div>

        <div id="messageArea" class="alert" role="alert" style="display: none;"></div>

        <!-- NEW Two-Column Results Layout -->
        <div id="resultsContainer" class="row" style="display: none;">
            <!-- Left Column: Video -->
            <div class="col-lg-6 mb-4">
                <div class="dubbing-card h-100 d-flex flex-column">
                    <h5 class="card-title result-title"><i class="fas fa-video"></i> Dubbed Video</h5>
                    <div class="card-body d-flex flex-column p-0 flex-grow-1">
                        <div class="flex-grow-1">
                            <video id="videoPlayer" class="w-100 h-100" controls>Your browser does not support the video tag.</video>
                        </div>
                        <div class="mt-3 text-center">
                            <a id="downloadButton" href="#" class="btn btn-success" download><i class="fas fa-download"></i> Download</a>
                            <button id="voiceOnButton" class="btn btn-info"><i class="fas fa-volume-up"></i> Voice ON</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Right Column: Textareas -->
            <div class="col-lg-6 mb-4 d-flex flex-column">
                <!-- Top Card: Transcription -->
                <div class="dubbing-card mb-4 d-flex flex-column flex-grow-1">
                     <h5 class="card-title result-title"><i class="fas fa-file-alt"></i> Transcription (<span id="transcriptionLang"></span>)</h5>
                     <div class="card-body p-0 flex-grow-1">
                         <textarea id="transcriptionText" class="form-control h-100" readonly></textarea>
                    </div>
                </div>
                <!-- Bottom Card: Translation -->
                <div class="dubbing-card d-flex flex-column flex-grow-1">
                    <h5 class="card-title result-title"><i class="fas fa-language"></i> Translation (<span id="translationLang"></span>)</h5>
                    <div class="card-body p-0 flex-grow-1">
                        <textarea id="translationText" class="form-control h-100" readonly></textarea>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>